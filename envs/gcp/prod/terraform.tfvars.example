# Example variables for prod environment (Cloud Run)
# Only list variables commonly customized â€“ others keep defaults.

# Required project and domain
project_id       = "infra-20250121-20260121-0235"
base_domain      = "buck2hub.com" 

# GCS (object storage)
gcs_bucket                = "mega-prod-storage"

# Cloud Run backend application
app_service_name          = "mega-backend"
app_image                 = "public.ecr.aws/m8q5m4u3/mega:mono-0.1.0-pre-release"
app_env = {
  RAILS_ENV    = "production"
  RACK_ENV     = "production"
}

# Cloud Run UI (Next.js SSR)
ui_service_name           = "mega-ui"
ui_image                  = "public.ecr.aws/m8q5m4u3/mega:mega-ui-staging-0.1.0-pre-release"
ui_env_vars = {
  APP_ENV = "staging"
}

# Database (Cloud SQL)
cloud_sql_instance_name   = "mega-prod-db"
cloud_sql_db_name         = "mega"
db_username               = "mega_user"
db_password               = "your-prod-db-password"

# Testing (option 1): enable public IP while keeping private networking to avoid empty network references
cloud_sql_enable_private_service_connection = true
cloud_sql_enable_public_ip                  = true

# VPC Connector CIDR (Required for the module to avoid 400 error)
vpc_connector_cidr                          = "10.8.0.0/28"

# Redis (Memorystore)
redis_instance_name       = "mega-prod-redis"
redis_tier                = "BASIC"     # no HA
redis_memory_size_gb      = 1

# Rails secrets (sensitive)
rails_master_key          = "your-prod-rails-master-key"
